{% extends 'blog/base.html' %}

{% block content %}
    <p>블로그 게시판 화면</p>
    <p>블로그 게시판 첫 화면입니다.</p>
    <!-- context -->
    <!-- 조건문, 순회문 -->
    <form action="{% url 'blog:write' %}" class="btn">
        <input type="submit" value="Write">
    </form>
    <form action="{% url 'blog:search' %}" method="POST">
        {% csrf_token %}    
        <select class="form-select">
                <option option disabled value="" selected>선택</option>
                <option value="{{ post_title }}">제목</option>
                <option value="{{ post_category }}">카테고리</option>
                <option value="{{ post_writer }}">작성자</option>
        </select>
        <input type="search" name="searched" placeholder="검색어를 입력하세요.">
        <button type="submit">Search</button>
    </form>

    <!-- 글이 있을 때 -->
    <!-- 테이블 -->
    {% if posts %}
        <table class="table table-bordered">
            <thead class="table-light">
                <tr>
                    <td>제목</td>
                    <td>작성자</td>
                    <td>카테고리</td>
                    <td>작성시간</td>
                </tr>
            </thead>
            <tbody>
                {% for post in posts %}
                    <tr>
                        <td><a href="{% url 'blog:detail' pk=post.pk %}" class="btn">{{ post.title }}</a></td>
                        <td>{{ post.writer }}</td>
                        <td>{{ post.category }}</td>
                        <td>{{ post.created_at }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
    <!-- 글이 없을 때 -->
    <!-- 글이 없습니다. -->
        <p>작성된 게시물이 없습니다.</p>
    {% endif %}
{% endblock %}